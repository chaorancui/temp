# C++ 知识点总结

## 占位符函数

占位符函数（**Stub Function**）是一种暂时性的函数，它在开发过程中作为函数的**临时实现**，通常用于表示某个功能尚未完成或尚未实现。占位符函数可以帮助程序员在软件开发过程中**保证代码结构完整性**，并使程序能够在该功能未实现的情况下正常编译或运行。

占位符函数的主要作用是：

1. **提供编译通过的接口**，即使函数的逻辑尚未实现。
2. **留出接口供以后实现**，以便程序在开发阶段继续进行其他模块的编写。
3. **避免编译器未定义符号的错误**，并提供一个清晰的功能待实现标记。

### 占位符函数常用的实现方式 - 无参

- **返回默认值**：在返回类型允许的情况下，返回一个默认值，如 `0`、`nullptr`、`SUCCESS` 或 `false`。
- **打印调试信息或定义特殊宏**：在函数体内打印信息，表明该函数未实现，方便调试时定位。
- **抛出异常**：对于必须实现的重要功能，可以在占位符函数中抛出异常，提醒开发者该函数还未完成。
- **使用特定标记**：在函数内加上 `TODO` 或类似标记，表明该函数是一个占位符，便于后期查找。

1. **返回默认值**

   占位符函数可以简单地返回一个符合函数签名的默认值，以确保代码能够编译通过，但功能尚未实现。

   ```cpp
   int doSomething() {
       // TODO: Implement this function
       return 0; // 占位符返回值
   }
   ```

2. **打印调试信息**

   在占位符函数中添加调试信息，提示调用者该函数未实现。这种方法**适合在调试过程中使用**，能够快速定位占位符函数。
   考虑通用性，可以通过预处理器宏来标记占位符函数，提醒开发者后续需要实现这些功能。常见的做法是将未实现的函数使用宏定义为一个占位符。

   ```cpp
   // 占位符函数，打印调试信息
   void processData() {
       std::cout << "Function processData() is not yet implemented." << std::endl;
   }

   // 考虑通用性，可以使用宏
   #define NOT_IMPLEMENTED_YET() \
       std::cerr << __FUNCTION__ << " not implemented yet." << std::endl

   void someFunction() {
       NOT_IMPLEMENTED_YET();
   }
   ```

3. **抛出异常**

   对于一些重要的函数，可以抛出异常来表示该功能尚未实现，防止开发者误用尚未实现的功能。

   ```cpp
   #include <iostream>
   #include <stdexcept>

   // 占位符函数，抛出异常
   void calculateSum() {
       throw std::runtime_error("Function calculateSum() is not implemented.");
   }

   int main() {
       try {
           calculateSum();
       } catch (const std::exception& e) {
           std::cerr << e.what() << std::endl;  // 输出 "Function calculateSum() is not implemented."
       }
       return 0;
   }
   ```

4. **空函数**

   最简单的占位符实现就是让函数不做任何事情，仅返回成功标志。这种方式通常用于函数接口已经确定，但实现细节需要以后再补充。

   ```cpp
   void doNothing() {
       // TODO: implement later
   }
   ```

### 占位符函数常用的实现方式 - 有参

在 C++ 中，当定义一个带参数的占位符函数时，如果参数未被使用，编译器通常会发出“**未使用的参数**”警告。为了避免这些警告，常见的做法是显式地标明参数未被使用。以下是几种常见的实现方式，可以帮助编译器识别参数未使用而避免产生警告。

- **(void)参数名**：函数中使用如 `(void)a;` 语句进行空操作。考虑通用性，还可以定义成宏。
- `[[maybe_unused]]`：C++17及以上版本可用，明确告诉编译器参数未使用也不要发出告警。
- **占位符参数/省略参数名**：仅有变量类型，没有函数名。

1. **(void)参数名**

   最常用的方式是通过 `(void)参数名` 的形式，将未使用的参数“消费掉”，以消除编译警告。该方法简单且直接，适用于多种编译器。
   考虑通用性，也可以使用预处理器宏来简化标记未使用参数的代码。这对于有很多类似占位符函数的情况下尤其方便。

   ```cpp
   // 带参数的占位符函数，使用 (void) 来避免未使用参数的警告
   void placeholderFunction(int a, double b) {
       (void)a;  // 标记参数 a 未使用
       (void)b;  // 标记参数 b 未使用
       // TODO: 实现函数逻辑
   }

   // 考虑通用性，定义成宏
   // 定义一个宏来标记未使用的参数
   #define UNUSED(x) (void)(x)

   void placeholderFunction(int a, double b) {
       UNUSED(a);  // 使用宏标记参数 a 未使用
       UNUSED(b);  // 使用宏标记参数 b 未使用
       // TODO: 实现函数逻辑
   }
   ```

   这段代码将 `(void)a` 和 `(void)b` 添加到函数体内，告诉编译器这两个参数暂时未使用，以此避免警告。
   宏的优点是可以在多个函数中复用，并且代码更加简洁。对于大量未使用的参数，使用宏可以减少重复代码。

2. **命名未使用的参数为 `[[maybe_unused]]`（C++17及以上版本）**

   在 C++17 及更高版本中，可以使用 `[[maybe_unused]]` 属性来显式标明某个参数可能未被使用。该属性告诉编译器，即使参数未被使用，也不要发出警告。

   ```cpp
   // 使用 [[maybe_unused]] 属性避免未使用参数的警告 (C++17 及以上)
   void placeholderFunction([[maybe_unused]] int a, [[maybe_unused]] double b) {
       // TODO: 实现函数逻辑
   }
   ```

   这种方式更加现代化，也更具可读性，并且明确了参数可能未被使用的原因。

3. **占位符参数/省略参数名**

   如果你仅仅需要一个占位符函数并且不打算使用参数，还可以省略参数的名字，直接在函数声明和定义中只保留类型。这种方法通常仅适用于不需要显式操作参数的情况。

   ```cpp
   // 占位符参数避免告警
   void placeholderFunction(int /* a */, double /* b */) {
       // TODO: 实现函数逻辑
   }

   // 省略参数名避免告警
   void placeholderFunction(int, double) {
       // TODO: 实现函数逻辑
   }
   ```

   这种方式直接忽略了参数名，不会有任何编译警告，适合完全不需要使用参数的情况。


### 总结

占位符函数是一种开发过程中常用的技巧，主要用于在实现某个功能之前，确保代码能够正常编译和运行。常见的占位符函数实现方式包括返回默认值、打印调试信息、抛出异常、(void)参数名、`[[maybe_unused]]`、以及使用占位符参数/省略参数名等。这些占位符函数有助于保持代码结构完整，并提醒开发者在合适的时机实现功能。
