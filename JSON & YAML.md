[toc]

# JSON & YAML

# JSON

## ä½¿ç”¨æ³¨é‡Šï¼š

> å‚è€ƒé“¾æ¥ï¼š
>
> [1]. [åœ¨ JSON æ–‡ä»¶ä¸­æ³¨é‡Š](https://www.freecodecamp.org/chinese/news/comments-in-json/)
>
> [2]. []

JSONï¼ˆJavaScript Object Notationï¼ŒJavaScript å¯¹è±¡è¡¨ç¤ºæ³•ï¼‰å› å…¶ç®€å•çµæ´»è€Œæˆä¸º web å¼€å‘å’Œç§»åŠ¨åº”ç”¨ç¨‹åºä¸­å¸¸ç”¨çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚

ä½† JSON æ–‡ä»¶æœ¬èº«å¹¶ä¸æ”¯æŒæ³¨é‡Šã€‚è¿™ä½¿å¾—ä¸ºæ•°æ®æä¾›é¢å¤–çš„ä¸Šä¸‹æ–‡æˆ–è§£é‡Šå…·æœ‰æŒ‘æˆ˜æ€§ã€‚

### ä¸ºä»€ä¹ˆ JSON ä¸æ”¯æŒæ³¨é‡Š

æ ¹æ® JSON è§„èŒƒï¼ŒJSON æ–‡æ¡£åªåº”åŒ…å«æ•°ç»„å’Œå¯¹è±¡ç­‰æ•°æ®ç»“æ„ï¼Œè€Œä¸åº”åŒ…å«æ³¨é‡Šã€‚è¿™æ˜¯å› ä¸º JSON æ˜¯ä¸€ç§ç®€å•çš„ã€æ˜“äºè§£æçš„æ•°æ®æ ¼å¼ï¼Œå¯ä»¥å¿«é€Ÿæœ‰æ•ˆåœ°è¿›è¡Œå¤„ç†ã€‚

æ³¨é‡Šè™½ç„¶æœ‰åŠ©äºä¸ºäººç±»è¯»è€…æä¾›é¢å¤–çš„ä¸Šä¸‹æ–‡æˆ–è§£é‡Šï¼Œä½†ä¼š**å¢åŠ è§£æè¿‡ç¨‹çš„å¤æ‚æ€§**ã€‚è¿™ä¼šé™ä½æ€§èƒ½å¹¶å¢åŠ å‡ºé”™çš„é£é™©ã€‚

JSON ä¸æ”¯æŒæ³¨é‡Šçš„ä¸»è¦åŸå› æ˜¯ï¼Œå…¶åˆ›å»ºè€…é“æ ¼æ‹‰æ–¯Â·å…‹ç½—å…‹ç¦ç‰¹ï¼ˆDouglas Crockfordï¼‰ç‰¹æ„ä»æ ¼å¼ä¸­åˆ é™¤äº†æ³¨é‡Šï¼Œä»¥é˜²æ­¢è¯¯ç”¨å¹¶ä½¿å…¶ä¿æŒä¸ºçº¯æ•°æ®æ ¼å¼ã€‚

å…‹ç½—å…‹ç¦ç‰¹è§‚å¯Ÿåˆ°æœ‰äº›äººä½¿ç”¨æ³¨é‡Šæ¥å­˜å‚¨è§£ææŒ‡ä»¤ï¼Œè¿™å¯èƒ½ä¼š**ç ´åä¸åŒç³»ç»Ÿä¹‹é—´çš„å…¼å®¹æ€§**ã€‚å› æ­¤ï¼Œä»–å†³å®šåˆ é™¤æ³¨é‡Šï¼Œä»¥**ä¿æŒæ ¼å¼åœ¨å„ç§ç¼–ç¨‹è¯­è¨€å’Œç¯å¢ƒä¸­çš„ç®€æ´æ€§å’Œä¸€è‡´æ€§**ã€‚

å› æ­¤ï¼Œåœ¨ JSON æ–‡ä»¶ä¸­æ·»åŠ æ³¨é‡Šçš„å”¯ä¸€é€‰æ‹©å°±æ˜¯ä½¿ç”¨å˜é€šæ–¹æ³•ï¼Œä¾‹å¦‚ä½¿ç”¨è‡ªå®šä¹‰å…ƒç´ æ¥å­˜å‚¨æ³¨é‡Šã€‚

### å¦‚ä½•åœ¨ JSON ä¸­æ·»åŠ æ³¨é‡Š

å½“ä½ ä»¥å¸¸ç”¨ç¼–ç¨‹è¯­è¨€ä¸­ä½¿ç”¨çš„ `//`ã€`#` æˆ– `/* */` çš„å½¢å¼æ·»åŠ æ³¨é‡Šæ—¶ï¼Œä½ ä¼šå‘ç° â€œJSON ä¸­ä¸å…è®¸æ·»åŠ æ³¨é‡Š â€çš„**é”™è¯¯**ã€‚

å”¯ä¸€çš„åŠæ³•å°±æ˜¯åœ¨ JSON æ–‡ä»¶ä¸­**å°†æ³¨é‡Šä½œä¸ºæ•°æ®å¯¹åŠ å…¥**ã€‚è¿™ç§åšæ³•å¹¶ä¸å¸¸ç”¨ï¼Œä¹Ÿä¸å€¼å¾—æ¨èï¼Œ**ä½†ä¸¥æ ¼æ¥è¯´ï¼Œè¿™æ˜¯æ·»åŠ æ³¨é‡Šåˆ° JSON æ–‡ä»¶çš„æœ€ä½³æ–¹æ³•**ã€‚

åœ¨ JSON å¯¹è±¡ä¸­åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰å…ƒç´ ï¼ˆå¦‚ â€œ//commentâ€ï¼‰ï¼Œä»¥ä¾¿å°†æ³¨é‡Šä¸å…¶ä»–æ•°æ®åŒºåˆ†å¼€æ¥ã€‚

> **æ³¨æ„ï¼š**å¹¶éå¿…é¡»ä½¿ç”¨ä¸¤ä¸ªæ–œçº¿ã€‚ä½ å¯ä»¥å†³å®šä½¿ç”¨äº•å·ï¼Œå¦‚ â€œ#commentâ€ æˆ–ä»»ä½•å…¶ä»–å…è®¸çš„å­—ç¬¦ã€‚**è¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†æ˜ç¡®è¿™æ˜¯ä¸€ä¸ªæ³¨é‡Šã€‚**

### å…¶ä»–æ–¹æ³•

- ä½¿ç”¨çº¦å®šä¿—æˆçš„ key ä½œä¸ºæ³¨é‡Šå­—æ®µ

  å¦‚ä»¥"//"ä½œä¸ºæ³¨é‡Šçš„ key. ä½†æ˜¯å¦‚æœæœ‰å¤šä¸ªä»¥"//"ä¸º key çš„å±æ€§ï¼Œæ˜¯å¦ç¬¦åˆåè®®çš„ï¼Ÿç­”æ¡ˆæ˜¯ï¼š**åè®®ç†è®ºä¸Šä¸å…è®¸**ã€‚**å®ç°ä¸Š(å‡ ä¹?)æ‰€æœ‰çš„ JS ç¯å¢ƒéƒ½å…è®¸**ï¼Œè§£æä¹‹åï¼Œ**åªä¿ç•™æœ€åä¸€é¡¹**ã€‚å¸¸ç”¨çš„ç±»ä¼¼ key è¿˜æœ‰ï¼š "\_comment", "#####"("#"ä¸ªæ•°è‡ªå®š)ç­‰ã€‚

- ä½¿ç”¨ JSON5 è§„èŒƒ

  JSON5 è§„èŒƒå…è®¸åœ¨ JSON æ–‡ä»¶ä¸­åŠ å…¥æ³¨é‡Šï¼šå•è¡Œæ³¨é‡Šï¼Œå¤šè¡Œæ³¨é‡Šå‡å¯

  å¯ä»¥ä½¿ç”¨ npm çš„ json5 åº“ï¼Œç”¨æ³•ä¸ JSON åº“ç±»ä¼¼ã€‚JSON5 è§„èŒƒè§ï¼šhttps://json5.org/

## JSON æ–‡ä»¶çš„é¡¶å±‚ç»“æ„

åˆæ³•çš„ JSON æ–‡æ¡£ï¼Œæœ€å¤–å±‚å¯ä»¥æ˜¯ï¼š

- **å¯¹è±¡ï¼ˆobjectï¼‰**ï¼š`{ ... }`
- **æ•°ç»„ï¼ˆarrayï¼‰**ï¼š`[ ... ]`

å¯¹åº”åˆ° Pythonï¼š

- JSON å¯¹è±¡ (`{}`) â†’ Python `dict`
- JSON æ•°ç»„ (`[]`) â†’ Python `list`

**ä¸¾ä¾‹**

1. æ–‡ä»¶é¡¶å±‚æ˜¯å¯¹è±¡

   ```json
   {
     "name": "Tom",
     "age": 25
   }
   ```

   è¯»å–ï¼š

   ```json
   import json
   with open("data.json", "r", encoding="utf-8") as f:
       obj = json.load(f)

   print(type(obj))  # <class 'dict'>
   ```

2. æ–‡ä»¶é¡¶å±‚æ˜¯æ•°ç»„

   ```json
   [
     { "name": "Tom", "age": 25 },
     { "name": "Jerry", "age": 22 }
   ]
   ```

   è¯»å–ï¼š

   ```json
   import json
   with open("data.json", "r", encoding="utf-8") as f:
       obj = json.load(f)

   print(type(obj))  # <class 'list'>
   ```

å¦‚æœä½ ä¸ç¡®å®šæ–‡ä»¶ç»“æ„ï¼Œå¯ä»¥å…ˆæ‰“å°ï¼š

```json
print(repr(obj)[:200])   # çœ‹å‰200ä¸ªå­—ç¬¦
print(type(obj))
```

# NDJSON

å¥½çš„ ğŸ‘ æˆ‘æ¥è¯¦ç»†ä»‹ç»ä¸€ä¸‹ **NDJSON (Newline Delimited JSON)**ï¼Œä¹Ÿå« **JSON Lines (jsonl)**ã€‚

**ä¸€ã€NDJSON æ˜¯ä»€ä¹ˆ**

**NDJSON (Newline Delimited JSON)**ï¼Œä¹Ÿå« **JSON Lines (jsonl)**ï¼Œæ˜¯ä¸€ç§åºåˆ—åŒ–æ ¼å¼ï¼Œæœ¬è´¨ä¸Šæ˜¯ **å¤šä¸ª JSON å¯¹è±¡ï¼Œæ¯è¡Œä¸€ä¸ª**ï¼Œæ–‡ä»¶æ•´ä½“ä¸æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¹Ÿæ²¡æœ‰é€—å·åˆ†éš”ã€‚

ä¾‹å¦‚ï¼Œä¸€ä¸ª NDJSON æ–‡ä»¶å†…å®¹å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š

```json
{"name": "Tom", "age": 25}
{"name": "Jerry", "age": 22}
{"name": "Spike", "age": 30}
```

ç‰¹ç‚¹ï¼š

- æ¯è¡Œæ˜¯ä¸€ä¸ªåˆæ³•çš„ **JSON å¯¹è±¡**ã€‚
- å¤šè¡Œæ‹¼æ¥èµ·æ¥å°±æ˜¯ NDJSONã€‚
- ä¸éœ€è¦å°†æ‰€æœ‰æ•°æ®åŒ…è£¹åœ¨æ•°ç»„ `[]` ä¸­ï¼ˆç›¸æ¯”æ ‡å‡† JSONï¼Œæ›´åŠ æµå¼åŒ–ï¼‰ã€‚
- æ–¹ä¾¿ **é€è¡Œå¤„ç†ã€è¿½åŠ å†™å…¥ã€æµå¼ä¼ è¾“**ã€‚

**äºŒã€NDJSON vs JSON**

| ç‰¹ç‚¹     | JSON                                         | NDJSON                       |
| -------- | -------------------------------------------- | ---------------------------- |
| æ•°æ®ç»“æ„ | æ•´ä¸ªæ–‡ä»¶å¿…é¡»æ˜¯ä¸€ä¸ªå®Œæ•´çš„ JSON å€¼ï¼ˆæ¯”å¦‚æ•°ç»„ï¼‰ | æ¯è¡Œæ˜¯ç‹¬ç«‹çš„ JSON å¯¹è±¡       |
| è¯»å–æ–¹å¼ | ä¸€æ¬¡æ€§åŠ è½½æ•´ä¸ªæ–‡ä»¶è§£æ                       | å¯ä»¥é€è¡Œè§£æï¼Œæ”¯æŒæµå¼å¤„ç†   |
| ä¿®æ”¹æ–¹å¼ | æ”¹ä¸€æ¡è®°å½•å¯èƒ½è¦æ”¹æ•´ä¸ªæ–‡ä»¶ï¼ˆå› ä¸ºæ•°ç»„ç»“æ„ï¼‰   | è¿½åŠ /åˆ é™¤è®°å½•åªéœ€æ“ä½œä¸€è¡Œ    |
| é€‚åˆåœºæ™¯ | é…ç½®æ–‡ä»¶ã€å°è§„æ¨¡æ•°æ®                         | æ—¥å¿—ã€å¤§è§„æ¨¡æ•°æ®æµã€æ•°æ®äº¤æ¢ |

**ä¸‰ã€å…¸å‹ä½¿ç”¨åœºæ™¯**

1. æ—¥å¿—è®°å½•

   åº”ç”¨æ—¥å¿—ã€ç›‘æ§æ—¥å¿—ï¼Œå¾€å¾€éœ€è¦é€è¡Œå†™å…¥ï¼ŒNDJSON æ ¼å¼éå¸¸è‡ªç„¶ï¼š

   ```json
   {"timestamp": "2025-08-22T12:00:00Z", "level": "INFO", "msg": "service started"}
   {"timestamp": "2025-08-22T12:01:00Z", "level": "ERROR", "msg": "connection failed"}
   ```

   ä¼˜ç‚¹ï¼šæ—¥å¿—åˆ†æå·¥å…·ï¼ˆå¦‚ ELK Stack, Splunkï¼‰èƒ½ç›´æ¥è§£æã€‚

2. å¤§è§„æ¨¡æ•°æ®å¤„ç†ï¼ˆæµå¼ï¼‰

   - å¤§æ•°æ®æ¡†æ¶ï¼ˆHadoop, Spark, Flinkï¼‰å¸¸ç”¨ NDJSON ä½œä¸ºè¾“å…¥è¾“å‡ºæ ¼å¼ã€‚
   - ä¾‹å¦‚ä¸€åƒä¸‡æ¡è®°å½•ï¼Œå¦‚æœç”¨ JSON æ•°ç»„å­˜å‚¨ï¼Œè§£ææ—¶å¿…é¡»ä¸€æ¬¡æ€§è¯»å®Œæ•´ä¸ªæ•°ç»„ï¼›è€Œ NDJSON å¯ä»¥ä¸€è¡Œä¸€è¡Œå¤„ç†ã€‚

3. æœºå™¨å­¦ä¹ /æ•°æ®ç§‘å­¦

   å¾ˆå¤šè®­ç»ƒæ•°æ®é›†ç”¨ NDJSON/JSONL æ ¼å¼å­˜å‚¨ï¼š

   ```json
   {"input": "ä½ å¥½", "output": "Hello"}
   {"input": "è°¢è°¢", "output": "Thanks"}
   ```

   ä¾¿äº Pythonã€Pandasã€PyTorchã€TensorFlow é€è¡Œè¯»å–å’Œå¤„ç†ã€‚

4. Web API ä¼ è¾“

   æœ‰äº› API è¿”å›çš„æ•°æ®å¾ˆå¤§ï¼Œå¦‚æœç”¨ JSON æ•°ç»„ï¼Œä¼šå¯¼è‡´å®¢æˆ·ç«¯å¿…é¡»ç­‰åˆ° **æ‰€æœ‰æ•°æ®ç”Ÿæˆå®Œæ¯•** æ‰èƒ½å¼€å§‹è§£æã€‚
   è€Œ NDJSON å¯ä»¥è¾¹ç”Ÿæˆã€è¾¹ä¼ è¾“ã€è¾¹è§£æã€‚

**å››ã€Python å¤„ç† NDJSON**

1. æ ‡å‡†åº“ `json`ï¼ˆé€è¡Œè§£æï¼‰
2. ç¬¬ä¸‰æ–¹åº“ `ndjson`

   ```json
   import json

   def load_ndjson(file_path):
       try:
           import ndjson
           with open(file_path, "r", encoding="utf-8") as f:
               return ndjson.load(f)
       except ImportError:
           with open(file_path, "r", encoding="utf-8") as f:
               return [json.loads(line) for line in f if line.strip()]

   json_file = Path(f"xxxx.json")
   json_data = load_ndjson(json_file)
   print(json_data[0])
   ```

3. Pandas

   ```json
   import pandas as pd

   df = pd.read_json("data.ndjson", lines=True)
   print(df.head())
   ```

   è¾“å‡ºä¼šç›´æ¥æ˜¯ DataFrameï¼Œæ–¹ä¾¿åšåˆ†æã€‚

**æ€»ç»“**

- **NDJSON** æ˜¯ä¸€ç§è½»é‡ã€å¯æ‰©å±•çš„ JSON å˜ç§ï¼Œæ ¸å¿ƒæ€æƒ³å°±æ˜¯ **â€œä¸€è¡Œä¸€ä¸ª JSON å¯¹è±¡â€**ã€‚
- ä¼˜ç‚¹ï¼šæ”¯æŒæµå¼å¤„ç†ï¼Œæ–¹ä¾¿è¿½åŠ ï¼Œé€‚åˆæ—¥å¿—ã€å¤§è§„æ¨¡æ•°æ®ã€API æµä¼ è¾“ã€‚
- ç¼ºç‚¹ï¼šæ–‡ä»¶æœ¬èº«ä¸æ˜¯æ ‡å‡† JSONï¼Œä¸èƒ½ç›´æ¥ç”¨ `json.load()` è¯»å–æˆæ•°ç»„ï¼Œéœ€è¦é€è¡Œè§£ææˆ–ç”¨ä¸“é—¨åº“ã€‚

# YAML

YAMLï¼ˆ**YAML Ain't Markup Language**ï¼‰æ˜¯ä¸€ç§äººç±»å¯è¯»çš„**æ•°æ®åºåˆ—åŒ–æ ¼å¼**ï¼Œå¸¸ç”¨äºé…ç½®æ–‡ä»¶ï¼Œæ›¿ä»£ JSON æˆ– XMLã€‚å®ƒè¯­æ³•ç®€æ´ï¼Œé€‚åˆè¡¨è¾¾ç»“æ„åŒ–æ•°æ®ã€‚

## YAML åŸºç¡€è¯­æ³•è§„åˆ™

- **ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»**ï¼ˆä½¿ç”¨ç©ºæ ¼ï¼Œé€šå¸¸ä¸º 2 æˆ– 4 ä¸ªç©ºæ ¼ï¼Œä¸å¯ä½¿ç”¨ Tabï¼‰
- **é”®å€¼å¯¹æ ¼å¼**ï¼š`key: value`
- **å¤§å°å†™æ•æ„Ÿ**
- **æ”¯æŒæ³¨é‡Š**ï¼šä½¿ç”¨ `#` å¼€å¤´

## YAML æ–‡ä»¶ç»“æ„å’Œæ•°æ®ç±»å‹

1. **æ ‡é‡ï¼ˆScalarï¼‰å€¼**

   - å­—ç¬¦ä¸²ã€æ•´æ•°ã€æµ®ç‚¹æ•°ã€å¸ƒå°”å€¼ã€null

   ```yaml
   name: Alice
   age: 25
   height: 1.70
   married: false
   nickname: null # æˆ– ~
   ```

2. **å­—ç¬¦ä¸²ï¼ˆStringï¼‰**

   - æ™®é€šå­—ç¬¦ä¸²æ— éœ€å¼•å·
   - å«ç©ºæ ¼æˆ–ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²å¯ç”¨ `' '` æˆ– `" "`

   ```yaml
   greeting: Hello
   quote1: "He said: Hello"
   quote2: 'She said: "Hi"'
   ```

3. **å¤šè¡Œå­—ç¬¦ä¸²**

   - **æ–‡å­—å—ï¼ˆä¿ç•™æ¢è¡Œï¼‰**ï¼š`|`
   - **æŠ˜å å—ï¼ˆè‡ªåŠ¨åˆå¹¶æ¢è¡Œï¼‰**ï¼š`>`

   ```yaml
   text_block: |
     This is line 1
     This is line 2

   text_folded: >
     This is line 1
     This is line 2
   ```

4. **å¸ƒå°”ã€Nullã€æ•°å­—**

   ```yaml
   enabled: true
   disabled: false
   nothing: null
   count: 10
   pi: 3.14
   ```

5. **æ•°ç»„ï¼ˆåºåˆ— / åˆ—è¡¨ï¼‰**

   å—æ ¼å¼ï¼ˆå¸¸ç”¨ï¼‰ï¼š

   ```yaml
   fruits:
     - apple
     - banana
     - orange
   ```

   è¡Œå†…æ ¼å¼ï¼š

   ```yaml
   numbers: [1, 2, 3, 4, 5]
   ```

6. **å­—å…¸ï¼ˆæ˜ å°„ / å¯¹è±¡ï¼‰**

   å—æ ¼å¼ï¼š

   ```yaml
   person:
     name: Alice
     age: 25
     email: alice@example.com
   ```

   è¡Œå†…æ ¼å¼ï¼š

   ```yaml
   person: { name: Alice, age: 25 }
   ```

7. **åµŒå¥—ç»“æ„**

   ç»„åˆå­—å…¸ä¸åˆ—è¡¨ç­‰ç»“æ„å¾ˆå¸¸è§ï¼š

   ```yaml
   employees:
     - name: Tom
       age: 30
       skills:
         - Python
         - YAML
     - name: Jane
       age: 28
       skills:
         - Java
         - Spring

   company:
     name: Tech Corp
     location:
       city: Shanghai
       zip: 200000
   ```

8. **å¼•ç”¨ï¼ˆAnchor `&`ï¼Œåˆ«å `\*`ï¼‰**

   é‡å¤ç»“æ„å¤ç”¨

   ```yaml
   default: &defaults
     retries: 3
     timeout: 30

   service1:
     <<: *defaults
     timeout: 60 # override

   service2:
     <<: *defaults
   ```

## å¸¸è§ç”¨é€”

- Kubernetes é…ç½®ï¼ˆå¦‚ `deployment.yaml`ï¼‰
- CI/CD å·¥å…·é…ç½®ï¼ˆGitHub Actions: `.github/workflows/*.yml`ï¼‰
- åº”ç”¨é…ç½®æ–‡ä»¶ï¼ˆå¦‚ Python ä¸­çš„ `PyYAML` åŠ è½½ï¼‰

## YAML vs JSON å¯¹æ¯”

| ç‰¹æ€§       | YAML             | JSON    |
| ---------- | ---------------- | ------- |
| å¯è¯»æ€§     | éå¸¸å¥½           | ä¸€èˆ¬    |
| æ³¨é‡Šæ”¯æŒ   | æ”¯æŒ `#` æ³¨é‡Š    | ä¸æ”¯æŒ  |
| æ•°æ®ç»“æ„   | ä¸€è‡´             | ä¸€è‡´    |
| æ–‡ä»¶æ‰©å±•å | `.yaml` / `.yml` | `.json` |

# TOML

TOMLï¼ˆTomâ€™s Obvious, Minimal Languageï¼‰æ˜¯ä¸€ç§ç®€æ´ã€å¯è¯»æ€§å¼ºçš„é…ç½®æ–‡ä»¶æ ¼å¼ï¼Œå¹¿æ³›ç”¨äºé¡¹ç›®é…ç½®ï¼ˆå¦‚ `pyproject.toml`ã€`Cargo.toml`ï¼‰ã€‚

## åŸºæœ¬è¯­æ³•è§„åˆ™

- **ç¼–ç **ï¼šå¿…é¡»ä½¿ç”¨ UTF-8
- **é”®å€¼å¯¹**ï¼š`key = value`ï¼Œ`=` å‰åå¿…é¡»æœ‰è‡³å°‘ä¸€ä¸ªç©ºæ ¼
- **æ³¨é‡Š**ï¼š`#` å¼€å¤´ç›´åˆ°è¡Œå°¾
- **ç©ºè¡Œ**ï¼šå…è®¸ï¼Œç”¨äºåˆ†éš”é€»è¾‘å—
- **é”®å**ï¼š
  - æ™®é€šé”®ï¼š`my_key`
  - å«ç©ºæ ¼æˆ–ç‰¹æ®Šå­—ç¬¦ï¼š`"my key"` æˆ– `'my key'`

```toml
# è¿™æ˜¯æ³¨é‡Š
title = "My Project"
"app name" = "My App"
```

## æ•°æ®ç±»å‹

1. **å­—ç¬¦ä¸²**

   ```toml
   # åŸºæœ¬å­—ç¬¦ä¸²
   str1 = "Hello"
   str2 = 'World'

   # å¤šè¡Œå­—ç¬¦ä¸²
   multiline = """
   This is
   a multi-line
   string.
   """

   # å•å¼•å·å¤šè¡Œï¼ˆä¸è½¬ä¹‰ï¼‰
   multiline_raw = '''
   Path: C:\Users\Name
   '''
   ```

2. **æ•´æ•°ä¸æµ®ç‚¹æ•°**

   ```toml
   int_val = 42
   neg_int = -10
   float_val = 3.14
   sci_val = 1e6
   ```

3. **å¸ƒå°”å€¼**

   ```toml
   bool_true = true
   bool_false = false
   ```

4. **æ—¥æœŸä¸æ—¶é—´ï¼ˆRFC 3339 æ ¼å¼ï¼‰**

   ```toml
   # UTC æ—¥æœŸæ—¶é—´
   utc_time = 1979-05-27T07:32:00Z

   # å¸¦æ—¶åŒºåç§»
   offset_time = 1979-05-27T00:32:00-07:00

   # æœ¬åœ°æ—¥æœŸæ—¶é—´
   local_dt = 1979-05-27T07:32:00

   # æœ¬åœ°æ—¥æœŸ
   local_date = 1979-05-27

   # æœ¬åœ°æ—¶é—´
   local_time = 07:32:00
   ```

## æ•°æ®ç»“æ„

1. **è¡¨ï¼ˆTableï¼‰**

   - è¡¨ç±»ä¼¼ Python çš„å­—å…¸ï¼Œç”¨ `[è¡¨å]` å£°æ˜ã€‚

   ```toml
   [owner]
   name = "Tom"
   dob = 1979-05-27T07:32:00Z
   ```

   ç­‰ä»· Pythonï¼š

   ```python
   {
       "owner": {
           "name": "Tom",
           "dob": datetime(...)
       }
   }
   ```

2. **åµŒå¥—è¡¨**

   ```toml
   [database]
   server = "192.168.1.1"

   [database.settings]
   max_connections = 100
   ```

   ç­‰ä»· Pythonï¼š

   ```python
   {
       "database": {
           "server": "192.168.1.1",
           "settings": {"max_connections": 100}
       }
   }
   ```

3. **å†…è”è¡¨ï¼ˆInline Tableï¼‰**

   - é€‚åˆä¸€è¡Œè¡¨ç¤ºçš„å°å¯¹è±¡

   ```toml
   point = { x = 1, y = 2 }
   ```

4. **æ•°ç»„ï¼ˆArrayï¼‰**

   ```toml
   fruits = ["apple", "banana", "pear"]
   numbers = [1, 2, 3, 4]
   mixed = [1, "two", 3.0] # å…è®¸æ··åˆç±»å‹ï¼Œä½†ä¸æ¨è
   ```

5. **è¡¨æ•°ç»„ï¼ˆArray of Tablesï¼‰**

   è¡¨ç¤ºå¤šä¸ªå¯¹è±¡ï¼š

   ```toml
   [[products]]
   name = "Hammer"
   price = 10.0

   [[products]]
   name = "Nail"
   price = 0.1
   ```

   ç­‰ä»· Pythonï¼š

   ```python
   {
       "products": [
           {"name": "Hammer", "price": 10.0},
           {"name": "Nail", "price": 0.1}
       ]
   }
   ```

6. **å†…è”è¡¨æ•°ç»„**

   è¡¨æ•°ç»„å¯ä¸€è¡Œè¡¨ç¤ºï¼š

   ```toml
   products = [
       { name = "Hammer", price = 10.0 },
       { name = "Nail", price = 0.1 }
   ]
   ```

## å°ç»“é€ŸæŸ¥è¡¨

| ç±»å‹/ç»“æ„    | TOML å†™æ³•ç¤ºä¾‹                 | Python ç­‰ä»·ç±»å‹ |
| ------------ | ----------------------------- | --------------- |
| å­—ç¬¦ä¸²       | `str = "abc"`                 | `str`           |
| å¤šè¡Œå­—ç¬¦ä¸²   | `"""..."""`                   | `str`           |
| æ•´æ•°         | `num = 42`                    | `int`           |
| æµ®ç‚¹æ•°       | `pi = 3.14`                   | `float`         |
| å¸ƒå°”å€¼       | `yes = true`                  | `bool`          |
| æ—¥æœŸæ—¶é—´ UTC | `time = 1979-05-27T07:32:00Z` | `datetime`      |
| æ•°ç»„         | `arr = [1, 2, 3]`             | `list`          |
| è¡¨ï¼ˆTableï¼‰  | `[server]`                    | `dict`          |
| åµŒå¥—è¡¨       | `[a.b]`                       | åµŒå¥— `dict`     |
| å†…è”è¡¨       | `{ x = 1 }`                   | `dict`          |
| è¡¨æ•°ç»„       | `[[items]]`                   | `list[dict]`    |

å¦‚æœä½ è¦çš„è¯ï¼Œæˆ‘å¯ä»¥å¸®ä½ å†ç”»ä¸€å¼  **TOML æ•°æ®ç»“æ„ â†’ Python æ•°æ®ç±»å‹æ˜ å°„å›¾**ï¼Œè¿™æ ·ä½ ç›´æ¥å°±èƒ½å¯¹ç…§ç”¨ã€‚
ä½ è¦æˆ‘å¸®ä½ ç”»é‚£å¼ å›¾å—ï¼Ÿ
