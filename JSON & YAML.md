# JSON & YAML

# JSON

## 使用注释：

> 参考链接：
>
> [1]. [在 JSON 文件中注释](https://www.freecodecamp.org/chinese/news/comments-in-json/)
>
> [2]. []

JSON（JavaScript Object Notation，JavaScript 对象表示法）因其简单灵活而成为 web 开发和移动应用程序中常用的数据交换格式。

但 JSON 文件本身并不支持注释。这使得为数据提供额外的上下文或解释具有挑战性。

### 为什么 JSON 不支持注释

根据 JSON 规范，JSON 文档只应包含数组和对象等数据结构，而不应包含注释。这是因为 JSON 是一种简单的、易于解析的数据格式，可以快速有效地进行处理。

注释虽然有助于为人类读者提供额外的上下文或解释，但会**增加解析过程的复杂性**。这会降低性能并增加出错的风险。

JSON 不支持注释的主要原因是，其创建者道格拉斯·克罗克福特（Douglas Crockford）特意从格式中删除了注释，以防止误用并使其保持为纯数据格式。

克罗克福特观察到有些人使用注释来存储解析指令，这可能会****破坏不同系统之间的兼容性。因此，他**决定删除注释**，以**保持格式在各种编程语言和环境中的简洁性和一致性**。

因此，在 JSON 文件中添加注释的唯一选择就是使用变通方法，例如使用自定义元素来存储注释。

### 如何在 JSON 中添加注释

当你以常用编程语言中使用的 `//`、`#` 或 `/* */` 的形式添加注释时，你会发现 “JSON 中不允许添加注释 ”的**错误**。

唯一的办法就是在 JSON 文件中**将注释作为数据对加入**。这种做法并不常用，也不值得推荐，**但严格来说，这是添加注释到 JSON 文件的最佳方法**。

在 JSON 对象中创建一个自定义元素（如 “//comment”），以便将注释与其他数据区分开来。

> **注意：**并非必须使用两个斜线。你可以决定使用井号，如 “#comment” 或任何其他允许的字符。**这样做的目的是为了明确这是一个注释。**

### 其他方法

- 使用约定俗成的 key 作为注释字段

    如以"//"作为注释的key. 但是如果有多个以"//"为key的属性，是否符合协议的？答案是：**协议理论上不允许**。**实现上(几乎?)所有的JS环境都允许**，解析之后，**只保留最后一项**。常用的类似key还有： "_comment", "#####"("#"个数自定)等。
    
- 使用JSON5规范

    JSON5规范允许在JSON文件中加入注释：单行注释，多行注释均可

    可以使用npm的json5库，用法与JSON库类似。JSON5规范见：https://json5.org/





# YAML

