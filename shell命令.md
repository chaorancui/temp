# shell 命令


### Linux文本处理：掌握基础、扩展和Perl正则表达式的威力
https://blog.csdn.net/dgwxligg/article/details/138875027

当探讨Linux文本处理时，**基础正则表达式**（Basic Regular Expressions, BRE）、**扩展正则表达式**（Extended Regular Expressions, ERE）和**Perl兼容正则表达式**（Perl-Compatible Regular Expressions, PCRE）这三种正则表达式非常重要。它们在功能和语法上有所区别，并由不同的工具和命令支持。

1. **基础正则表达式 (BRE)**：
   - BRE是最初在Unix文本工具中使用的正则表达式的简单形式。
   - 在BRE中，元字符如`?`, `+`, `{`, `|`, `(`, `)`需要被转义（前加反斜杠`\`）才能作为特殊意义解释。否则，它们会被当作普通字符处理。
   - 常见的使用BRE的工具有`grep`、`sed`等。
2. **扩展正则表达式 (ERE)**：
   - ERE对BRE进行了扩展，添加了一些额外的功能。
   - ERE不需要转义某些元字符（如`?`, `+`, `|`, `{}`, `()`）。
   - 使用ERE的工具包括`egrep`（或`grep -E`），还有支持ERE的`sed`版本等。
   - ERE相对于BRE来说语法更加直观，但在老旧系统和工具中可能不被支持。
3. **Perl兼容正则表达式 (PCRE)**：
   - PCRE是一种更加强大和灵活的正则表达式版本，它扩展了传统的正则表达式并加入了许多Perl语言的特性。
   - 例如，PCRE支持lookahead和lookbehind断言、递归模式、命名捕获组等高级功能，这使得PCRE在处理复杂的模式匹配时异常强大。
   - PCRE通常被`grep`的`-P`选项和一些编程语言（如PHP，Python的`re`模块等）支持。
     **讨论要点**：

- **兼容性**：某些老旧的系统和工具只支持BRE。
- **功能性**：**PCRE提供了最丰富**的功能，能够解决更复杂的问题。
- **性能**：复杂的PCRE表达式可能会比BRE和ERE慢，尤其是在处理大量文本或复杂模式时。
- **易用性**：ERE和PCRE对初学者更友好，因为它们不需要多余的转义符，且语法更为直观。
- **兼容性与未来性**：尽管BRE在历史上很重要，现代文本处理越来越多地支持ERE和PCRE，后者尤其在程序设计领域受欢迎，因为其强大的功能和灵活性。
  总结来说，选择哪种正则表达式主要依赖于任务的复杂性及所使用工具的支持度。对于简单的文本匹配，BRE和ERE足够用了；而对于要求更高的模式匹配，尤其是涉及到复杂文本处理的场合，PCRE则是更好的选择。


### "通配符"和"正则表达式"的区别

> [正则表达式和通配符的区别](https://blog.csdn.net/bytxl/article/details/8801304)

**通配符**：

说白了一般只用于文件名匹配，它是由shell解析的。所谓的系统level的概念非常含糊，什么是系统level的？我们知道shell是一个命令解释器，它是内核的外壳，用于完成操作系统使用者与内核的沟通，因此，**通配符实际上就是一个shell解释器去解析的符号**，它的特殊涵义是由shell这个命令解释器赋予的。通配符的英文名是 **wildcard**，就是万用牌的意思，它相当简单，一般来说，*nix系统上面的shell大多将三个特殊符号当作通配符，它们是 `*` `?` `[...]`， 其中 * 表示匹配任意长度的任意字符； ? 表示匹配一个任意字符， 而[...]则表示匹配括号中列出的字符中的任意一个。

**正则表达式**：

是一种对字符串匹配模式的描述和规定，并且是一种标准，需要相关工具的支持。而不同的工具程序，也就是`egrep、sed、awk、perl等`这样的程序，以各种程度来支持这种字符串搜索模式，它们就是标准的实现，你可以在这种软件中使用正则表达式这种“匹配模式标准”。

**在什么地方使用通配符？**

答案是只要是**shell命令行或者shell脚本**中，你都可以使用通配符；如命令find，ls，cp等等。

**在什么地方使用正则表达式？**

当你使用能够**支持正则表达式的工具软件进行字符串处理**时你就可以使用正则表达式。你还可以在支持正则表达式的语言中使用正则表达式，比如perl, java... C++中也有专门用于支持正则表达式的库。正则表达式总是和“使用什么工具软件或者语言”相关。相对来说，不同的工具和语言对正则表达式的支持程度不同，*nix里面将这些工具软件的对正则表达式的支持分类，因此也就有了“基础正则表达式”和“扩展正则表达式”。

不同的工具对正则表达式的支持，其实有些许的微妙不同；但是总体来说，使用正则还是基本按照标准来的。这些不同的工具支持程度，被称之为“正则流派”。而工具软件中支持这种匹配模式的那部分代码，称之为“正则引擎”。由于perl对正则表达式的支持非常到位，其正则引擎也比较优秀，因此perl语言算是正则的一大流派，目前大部分对正则的支持都或多或少参考了perl语言中的标准。



**通配符**：

| 符号       |                                                       |
| ---------- | ----------------------------------------------------- |
| ？         | 任意一个字符                                          |
| *          | 0-多个任意字符                                        |
| [ab]       | 只匹配其中的一个字符                                  |
| [a-z]      | 只匹配a-z其中的一个字符                               |
| [^ab]      | 除了a或b                                              |
| [^a-z]?    | 除了a-z开头后面有一个字符，第一个字符不能是字母开头的 |
| [a-z][0-9] | 第一个字符是字母，第二个是数字                        |
| ?*         | 第一个任意字符，后面随意                              |
| *          | 0-多个任意字符                                        |

**正则表达式**：

> [regular-expressions.info](https://www.regular-expressions.info/) --> 关于正则表达式的首要网站
>
> [RegexBuddy 的正则表达式详细教程](https://www.regexbuddy.com/tutorial.html) --> 擦，工具要付费

* 基本正则表达式

  [Docs » 通配机制 » 正则表达式 » 正则表达式语法 » 基本正则表达式](https://codetoolchains.readthedocs.io/en/latest/5-Wildcard/2-Regular/1-syntax/1-bRegEx.html)

* 扩展正则表达式

  [Docs » 通配机制 » 正则表达式 » 正则表达式语法 » 扩展正则表达式](https://codetoolchains.readthedocs.io/en/latest/5-Wildcard/2-Regular/1-syntax/2-eRegEx.html)

* Perl正则表达式(PCRE)

  [Perl正则匹配和正则表达式](https://dulunar.github.io/2021/01/01/Perl%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D%E5%92%8C%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E5%89%AF%E6%9C%AC/)

  [Perldoc浏览器](https://perldoc.perl.org/perlre)



> 注意:
>
> * 通配的`*`和正则里面的`*`是不一样的含义。



